window.App={};window.App.Options={};
$(function(){function e(a,b,d){a=a?a:0;if(b&&(!a||a>b))a=b;return d&&(!a||a>d)?d:a}function f(){return{height:$("html, body").height(),sliderHeight:e(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0),sliderPos:e(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)}}function g(a){var b=f().height-a.height;$("html, body").animate({scrollTop:a.sliderPos+
b},"fast")}(function(){$("script").each(function(){var a=String(this.type).replace(/ /g,"");a.match(/^text\/x-omnimarkup-config(;.*)?$/)&&!a.match(/;executed=true/)&&(this.type+=";executed=true",eval(this.innerHTML))})})();var h=window.App.Options.buffer_id,i=window.App.Options.ajax_polling_interval,j=window.App.Options.mathjax_enabled;(function b(){var d=$("#content"),e=d.data("timestamp"),k={buffer_id:h,timestamp:e};setTimeout(function(){$.ajax({type:"POST",url:"/api/query",data:JSON.stringify(k),
dataType:"json",contentType:"application/json; charset=utf-8",success:function(c){if(c&&null!==c.html_part){var b=f();document.title=c.filename+"\u2014"+c.dirname;$("#filename").text(c.filename);d.data("timestamp",c.timestamp);d.empty().html(c.html_part);var e=$("img"),c=0<e.length?function(){e.imagesLoaded(function(){g(b)})}:function(){g(b)};j?MathJax.Hub.Queue(["resetEquationNumbers",MathJax.InputJax.TeX],["Typeset",MathJax.Hub,d[0]],c):c()}},complete:b})},i)})()});
