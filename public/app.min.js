$(function(){var e=function(a,c,d){a=a?a:0;if(c&&(!a||a>c))a=c;return d&&(!a||a>d)?d:a},f=function(){return{height:$("html, body").height(),slider_height:e(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0),slider_pos:e(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)}};setInterval(function(){var a=$("#content"),
c=a.data("buffer-id"),d=a.data("timestamp");$.ajax({type:"POST",url:"/api/query",data:JSON.stringify({buffer_id:c,timestamp:d}),dataType:"json",contentType:"application/json; charset=utf-8",success:function(b){if(b&&null!==b.html_part){var c=f();document.title=b.filename+"\u2014"+b.dirname;$("#filename").text(b.filename);a.data("timestamp",b.timestamp);a.html(b.html_part);b=f().height-c.height;$("html, body").animate({scrollTop:c.slider_pos+b},"fast")}}})},parseInt($("#content").data("polling-interval"),
10))});
