window.App={};window.App.Options={};
$(function(){function d(b,a,c){b=b?b:0;if(a&&(!b||b>a))b=a;return c&&(!b||b>c)?c:b}function e(){return{height:$("html, body").height(),slider_height:d(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0),slider_pos:d(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)}}(function(){$("script").each(function(b,a){var c=
String(a.type).replace(/ /g,"");c.match(/^text\/x-omnimarkup-config(;.*)?$/)&&!c.match(/;executed=true/)&&(a.type+=";executed=true",eval(a.innerHTML))})})();var f=window.App.Options.buffer_id,g=window.App.Options.ajax_polling_interval;(function a(){var c=$("#content"),d=c.data("timestamp"),h={buffer_id:f,timestamp:d};setTimeout(function(){$.ajax({type:"POST",url:"/api/query",data:JSON.stringify(h),dataType:"json",contentType:"application/json; charset=utf-8",success:function(a){if(a&&null!==a.html_part){var d=
e();document.title=a.filename+"\u2014"+a.dirname;$("#filename").text(a.filename);c.data("timestamp",a.timestamp);c.html(a.html_part);a=e().height-d.height;$("html, body").animate({scrollTop:d.slider_pos+a},"fast")}},complete:a})},g)})()});
